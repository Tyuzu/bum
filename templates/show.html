{{template "head"}}
<div id="snackbar"></div>
<main>
<section class="content" id="videocon">
<video id="mainVid" autoplay width="320" height="480" preload="metadata" loop poster="#" class="hvideo">
<source src="https://i.imgur.com/{{.}}.mp4#t=0.01" type="video/mp4">
<source src="https://i.imgur.com/{{.}}.gifv" type="video/webm">
Your browser does not support the video tag.
</video>
<div onclick='playMe()' class="overly"></div>
</section>
<section class="content">
<div class="player-controls">
<div class="play-duration">
<div class="play-duration-bar"></div>
</div>
<div class="buttonbar">
<button onclick='slower()' id="slower" class="sqrBtn btn">&#10134;</button>
<button onclick='resetSpeed()' id="normal" class="sqrBtn btn">&#9868;</button>
<button onclick='faster()' id="faster" class="sqrBtn btn">&#10133;</button>
<button id="mute" class="sqrBtn btn">&#128263;</button>
<button class="saveBtn btn" id="share" title="Share button" value="/{{.}}" onclick="navigator.clipboard.writeText(window.location.href);mySnack('copied URL to share')">Share</button>
</div>
</div>
</section>
</main>
<script>var QS=function(el){return document.querySelector(el);};var durationBar=QS('.play-duration-bar');QS('#mainVid').addEventListener('timeupdate',function(e){var total=((e.target.currentTime/e.target.duration)*100);durationBar.style.width=total+'%';})
QS('.play-duration').addEventListener('mousedown',function(e){var rect=e.currentTarget.getBoundingClientRect(),offsetX=e.clientX-rect.left,offsetY=e.clientY-rect.top;var fraction=(offsetX/e.currentTarget.clientWidth);var video=QS('#mainVid');video.currentTime=video.duration*fraction;});</script>
</body>
<style>.player{padding:0;margin:0;display:flex;flex-direction:column;width:100%;height:100%}.player .video-wrapper{position:relative;height:100%;background-color:#00b630}.player .video-wrapper .video-overlay{position:absolute;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center}.player .player-controls{position:fixed;bottom:0;text-align:center;opacity:.1;width:100%;left:0;padding:0;transition:all .2s linear}.player:hover .player-controls{opacity:1;background-color:rgba(0,0,0,.9)}.play-duration{height:10px;width:100%;position:relative;margin:0 0 15px 0;cursor:pointer;background:black}.play-duration .play-duration-bar{background-color:#00b630;position:absolute;left:0;top:0;height:100%;width:0}.btn{background-color:#00b630;border:0;padding:5px;color:white;font-size:15px;border-radius:50%;width:45px;height:45px;display:inline-flex;justify-content:center;align-items:center;cursor:pointer}.btn.btn-lg{width:80px;height:80px;font-size:25px}.btn:active{transform:translateY(2px)}*{text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-kerning:auto}html{font-family:sans-serif;-webkit-text-size-adjust:100%}*,*:before,*:after{box-sizing:border-box!important}:root{--first-color:#222;--second-color:#ff7}#firstParagraph{background-color:var(--first-color);color:var(--second-color)}p{text-align:left;margin:1rem 0}h1{font-size:3rem;font-weight:800}h1,h2,h3,h4,h5,h6{font-weight:normal;margin:0;text-transform:capitalize}h1{font-size:3.2rem;font-style:normal;margin-top:1rem}h2{font-size:2.2rem;margin-bottom:2.2rem}h3{font-size:1.7rem}p,table,blockquote,pre,img,.mini-note,ul li,ol li{box-sizing:border-box}li ul li,li ol li{max-width:100%}p{position:relative}a,a:visited{color:#3243db;text-decoration:none}a:hover,a:visited:hover{color:#dc2828}blockquote{font-style:italic;margin:0;padding:2rem 0 2rem 4rem}blockquote footer{font-style:normal;font-size:1.1rem;text-align:right}figure{align-items:flex-start;display:flex;margin:0;padding:0;position:relative}hr{background:#111;border:0;height:1px;margin:1rem 0;width:100%}figure .marginnote,figure .sidenote{left:auto;position:relative}nav{display:flex;align-items:center;max-width:1200px;margin:0 auto;justify-content:space-between}nav a,nav form{margin:.5rem;padding:.4rem .6rem;font-size:1.3rem}nav a:first-child{margin-left:0}::-moz-selection{background:#f7d2d2;color:#333;text-shadow:none}::selection{background:#9affc8;color:#000;text-shadow:none}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Ubuntu,'Open Sans','Helvetica Neue',sans-serif;font-weight:400;line-height:1.6;background:var(--first-color);color:var(--second-color);padding:0;max-width:95%;margin:0 auto;height:100%;font-size:18px;-webkit-font-smoothing:antialiased}*{box-sizing:border-box;vertical-align:baseline}body::-webkit-scrollbar{width:12px}body::-webkit-scrollbar-thumb{background-color:#555}header h2{margin-top:6px;margin-bottom:10px}.flexy{display:flex;justify-content:center}.search-btn{height:2.3rem;width:3rem;padding:.3rem .6rem;background-color:#ffffff00;border:0;outline:0;border-radius:0 6px 6px 0;display:flex;border-left:1px solid #f3f3f3;align-items:center}.search-field{border:0;outline:0;padding:0 .6rem;background:transparent;height:2.5rem;color:#000;font-size:1rem;width:100%}.d3{display:flex;background:#fff;border:1px solid #fff;max-width:550px;align-items:center;border-radius:6px;box-shadow:rgb(0 0 0 / 20%) 0 2px 12px 0}.homeform{max-width:350px;width:100%;margin:0}.formcon{max-width:350px;width:100%}.srchicon{stroke-width:1.4;border-radius:5px;width:2.4rem;height:2.4rem;fill:none;stroke:#000;box-shadow:none;display:block;stroke-linecap:round;stroke-linejoin:round;transition:.2s ease}header{position:relative;top:0;left:0;height:54px;z-index:10;width:100%;display:flex;justify-content:space-between;align-items:center;background:linear-gradient(90deg,transparent 0,#7a7a7a 50%,transparent);padding:0;max-width:98%;margin:0 auto}.thumb:after{position:absolute;top:0;left:0;right:0;bottom:0;border-radius:50%;border:1px solid rgba(0,0,0,0.07);content:''}.thumb{position:relative;min-width:2.6rem;min-height:2.6rem;border-radius:50%}.thumb{background-image:url(/userpic/userpic.png);background-size:cover;border:1px solid rgba(0,0,0,0.07)}a{text-decoration:none;color:#202124}a,input,textarea,select,button{outline:0}body,p,td,label,textarea,a,li,input,button,textarea,select{font-family:'Breezesans',arial,sans-serif;color:#fff;-webkit-text-size-adjust:none}input,button{background:linear-gradient(90deg,#5a5a5a 0,#444 50%,#5a5a5a)}button a{color:black;background:#fff;font-size:1.2rem;padding:.4rem;border-radius:4px}footer{max-width:800px;text-align:center;margin:0 auto}.previewImg{max-width:500px;max-height:400px;text-align:center}.previewContainer{max-width:1100px;text-align:left;margin:0 auto}.filePreviewCon{justify-content:space-between;display:flex;margin:1rem auto;border:1px solid #333}.upform{max-width:1100px;width:100%;padding:1rem;margin:1rem auto;background:#303030;text-align:center}.filedesc{padding:1rem;width:100%;max-width:500px}.block-3{min-height:calc(100vh - 60px);padding:10px;position:relative}html{box-sizing:border-box}button{font-size:1.2rem;background-color:#fff0;border:1px solid #aaa;border-radius:4px}.sqrBtn{width:3rem;height:3remx;margin:3px}.buttonWidth,input{height:34px}#myFile{height:-webkit-fill-available;padding:1rem;width:inherit;max-width:500px;text-align:center}.inp{padding:10px 12px;font-size:16px;border:2px solid #000;margin:16px 0;background-color:#fff;width:100%}#buttonbar{position:fixed;top:0}.hvideo{max-height:87vh;margin:0 auto;height:100%;width:inherit}.formfill{position:fixed;bottom:0}header h2{margin:.8rem 0}main,.content{margin:0 auto;width:100%;display:flex;flex-direction:column;position:relative;justify-content:center;max-width:1100px}.overly{bottom:0;left:0;position:absolute;right:0;top:0}.slider{bottom:0;left:0;position:absolute;right:0;width:100%;height:6px}#status{bottom:1rem;left:6px;position:absolute;right:0}.saveBtn{width:6rem;height:3rem;margin:3px}.bld{mix-blend-mode:difference;background:#fff}.afters:after{content:'s';margin-left:.1rem;margin-right:.3rem}.playBtn{position:absolute;z-index:10;width:100%;height:100%;background:#ffffff00;top:0;bottom:0;left:0;border:0;right:0}.buttonbar{position:relative;bottom:.5rem;left:0;display:flex;width:fit-content;right:0;justify-content:center;background:#fff0;margin:0 auto}</style>
<script>function showLogout(){lg=document.getElementById("logout");lg.style.display="block";}</script>
<!--script>window.addEventListener('contextmenu',(event)=>{event.preventDefault();alert('mouse right-click is prevented');});</script-->
<script>/*<![CDATA[*/var angle=0;var flip=false;var blend=false;var hotkeysEnabled=true;vidd=document.getElementsByTagName("video")[0];window.addEventListener("keypress",function(e){if(e.key===","&&hotkeysEnabled){vidd.currentTime-=1/12;};if(e.key==="."&&hotkeysEnabled){vidd.currentTime+=1/12;};if(e.key==="c"&&vidd.playbackRate<3.0&&hotkeysEnabled){vidd.playbackRate+=.25;};if(e.key==="x"&&hotkeysEnabled){vidd.playbackRate=1;};if(e.key==="z"&&vidd.playbackRate>0.25&&hotkeysEnabled){try{vidd.playbackRate-=.25;}catch(err){vidd.playbackRate=0.25}};if(e.key==="b"&&hotkeysEnabled){setVol(-.1);};if(e.key==="n"&&hotkeysEnabled){setVol(.1);};if(e.key==="m"&&hotkeysEnabled){mute();};if(e.key==="r"&&hotkeysEnabled){if(angle!=360){angle=angle+90;vid=document.getElementsByTagName("video")[0];vdsclX=vid.videoHeight/vid.videoWidth;vdsclY=vid.videoWidth/vid.videoHeight;vdscale=Math.min(vdsclX,vdsclY);if(vid.videoHeight>vid.videoWidth){vdscale=Math.max(vdsclX,vdsclY)};vid.style.transform="rotate("+angle+"deg) scale("+vdscale+")";}
if(angle==360){angle=0;document.getElementsByTagName("video")[0].style.transform="rotate(0deg) scale(1)";}
if(angle==180){angle=180;document.getElementsByTagName("video")[0].style.transform="rotate(180deg) scale(1)";}};if(e.key==="v"&&vidd.playbackRate>0.25&&hotkeysEnabled){video.paused?video.play():video.pause();};if(e.key==="h"&&hotkeysEnabled){if(!flip){document.getElementsByTagName("video")[0].style.transform="scaleX(-1)";flip=true;}else{document.getElementsByTagName("video")[0].style.transform="scaleX(1)";flip=false;}};},false);function setVol(value){var vol=vidd.volume;vol+=value;if(vol>=0&&vol<=1){vidd.volume=vol;}else{vidd.volume=(vol<0)?0:1;}}/*]]>*/</script>
<script></script>
<script>/*<![CDATA[*/var video=document.getElementById("mainVid");video.muted=true;function playMe(){if(video.paused){video.play();}else{video.pause();}}
function slower(){video.playbackRate-=.15;}
function faster(){video.playbackRate+=.15;}
function resetSpeed(){video.playbackRate=1;}
function mute(){if(video.muted){video.muted=false;}else{video.muted=true;}}
document.getElementById("delete").addEventListener("click",function(evt){const a2c=new XMLHttpRequest();url=document.getElementById("delete").value;a2c.open("POST","/del/"+url,true);a2c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a2c.onreadystatechange=()=>{if(a2c.readyState===XMLHttpRequest.DONE&&a2c.status===200){mySnack('Deleted');}};a2c.send();},false);document.getElementById("mute").addEventListener("click",function(evt){if(video.muted){video.muted=false;}else{video.muted=true;}},false);video.addEventListener("volumechange",function(){if(video.muted){document.getElementById("mute").innerHTML="&#128263;";}else{document.getElementById("mute").innerHTML="&#128266;";}},false);video.addEventListener("error",function(err){console.log(err);},true);video.addEventListener("loadedmetadata",function(){},false);/*]]>*/</script>
<script>function disableHotkeys(){hotkeysEnabled=false}
function enableHotkeys(){hotkeysEnabled=true}</script>
<script>function mySnack(msg){var x=document.getElementById("snackbar");x.className="show";x.innerText=msg;setTimeout(function(){x.className=x.className.replace("show","");},3000);}</script>